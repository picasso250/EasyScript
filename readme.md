# EasyScript 脚本语言：设计与哲学

## 简介

**EasyScript** 是一种为追求极致**简洁**、**易学**和**结构清晰**而设计的脚本语言。它是一门**图灵完备**的语言，具备现代编程所需的所有核心功能（变量、赋值、复合数据、控制流、**函数**），但通过严格限制规则，将学习和实现的复杂度降至最低。

**EasyScript** 的目标是成为初学者的完美**基石**语言，让学习者能专注于算法逻辑，而非记忆复杂的语法和优先级规则。

## 核心设计哲学

EasyScript 的设计围绕两大核心原则：

### 1. 极致的 BNF 简洁性

我们通过牺牲传统语言中复杂且不常用的优先级层级和冗余的控制流语法，换取一个极其简洁的 BNF 结构。

*   **表达式层级：三层优先级**
    1.  **最高优先级（Factor/索引）：** 列表/字典索引 `[]` 和一元负号 `-`。
    2.  **高优先级（Term）：** 乘除、取模、所有位运算、所有移位运算。
    3.  **低优先级（Expression）：** 加减、所有关系运算、所有相等性运算、所有逻辑运算。
    *   **强制使用括号：** 所有不同类别操作符（例如算术与逻辑）之间的优先级差异，必须使用圆括号 `()` 来明确，**杜绝了优先级歧义**，极大地提升了初学者的可读性。
*   **最小化非终结符：** 表达式结构仅由 $\langle \text{Primary} \rangle \to \langle \text{Factor} \rangle \to \langle \text{Term} \rangle \to \langle \text{Expression} \rangle$ 四个非终结符构成。

### 2. 结构化和初学友好

EasyScript 的控制流借鉴了现代语言的最佳实践，旨在消除常见的编程陷阱，并采用**最精简、最常用**的语法。

*   **Go-Style 控制流：** `if` 和 `for` 语句的条件表达式**无需使用圆括号**。
*   **强制代码块：** `if`, `else`, `for`, `fun` 的语句体**必须**是代码块 `{}` ($\langle \text{Block} \rangle$)。这彻底解决了“悬挂 `else`”问题，并强制要求编写结构清晰、可维护的代码。
*   **精简的循环：** `for` 语句仅保留**条件循环**（While-Style）和**集合迭代**（ForEach-Style），将数字计数等复杂迭代逻辑推给内置函数（如 `range()`）处理，以最小化 BNF 复杂度。
*   **函数支持：** 引入 `fun` 关键字定义函数，并支持 `return` 语句，以实现代码复用和作用域隔离。

## 语言核心特性速览

### 数据结构

| 特性 | 实现方式 |
| :--- | :--- |
| **变量 (Identifier)** | 支持标识符的赋值和读取。 |
| **基础值** | 支持 **Number**、**true** 和 **false**。 |
| **列表 (List)** | 支持使用字面量 `[1, a+b, true]` 构造。 |
| **字典 (Dict/Map)** | 支持使用键值对字面量 `{"key": 1, 2: "b"}` 构造。 |
| **高优先级索引** | 列表和字典的索引操作 `[ ]` 具有**最高的优先级**，可以对任何表达式、列表或字典字面量进行即时访问，例如 `[1,2,3][1]` 或 `{"a": 1}["a"]`。 |

### 运算符

EasyScript 包含了 C 语言中所有必要的二元运算符，并将其统一分配到两个优先级层级：

*   **高优先级 (`Term`)：** `*`, `/`, `%`, `<<`, `>>`, `&`, `|`, `^`
*   **低优先级 (`Expression`)：** `+`, `-`, `<`, `<=`, `>`, `>=`, `==`, `!=`, `&&`, `||`

### 控制流与抽象

| 语句 | 示例 (Go-Style) | 描述 |
| :--- | :--- | :--- |
| **函数定义** | `fun calculate(x, y) { return x + y; }` | 使用 `fun` 定义函数，`return` 返回值。 |
| **赋值** | `myVar = 10 * (a + b);` 或 `myDict["key"] = 1;` | 支持基础赋值以及对列表/字典元素的赋值。 |
| **条件分支** | `if a > 10 { result = 1; } else { result = 0; }` | 条件外无括号，强制使用代码块。 |
| **循环 (While-Style)** | `for i < 10 { i = i + 1; }` | 用于无限循环或基于条件的循环。 |
| **循环 (Collection-Style)** | `for item in range(0, 10) { sum = sum + item; }` | 遍历列表、字典等集合（例如内置 `range()` 函数的结果）。 |

## 总结

**EasyScript** 证明了**极简**与**功能强大**可以完美共存。通过精心设计的 BNF 结构，以及对函数、精简循环和**字典**的引入，我们创造了一个易于实现、易于学习、且完全具备执行任何算法能力的脚本语言。它是学习编程语言设计和算法逻辑的理想选择。